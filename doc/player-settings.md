[< back to README](https://github.com/BeyondWords-io/player#readme)

## Player Settings

The table below contains a list of properties that can be configured in the
player.  Usually, you will only need to set the identifiers such as `projectId`
and `contentId` and the rest of the settings will come from the API. If the
identifiers are changed after the player has loaded then a new API request will
be made to fetch the content and settings for those identifiers.

If you wish, you can override these settings in the
[`<script>` tag](./getting-started.md) before the player has loaded, or by
using the [player SDK](./player-sdk.md) after the player has loaded. It is also
possible to load the player without making any API request by 'overriding' the
content and adverts properties with valid data structures as specified in the
table below. This is useful for player demo sites, for example.

### Properties

| Name                  | Type                  | Explanation |
|-----------------------|-----------------------|-------------|
| playerApiUrl          | string                | The URL of the API that the player should fetch its data from. This is only really useful if you're a BeyondWords developer and want to use the internal staging environment to test something.<br/><br/>Default value: https://api.beyondwords.io/v1/projects/{id}/player
| projectId             | number                | The numeric ID of your project. This can be retrieved from the BeyondWords dashboard by visiting a project and copying the numeric ID from within the URL.<br/><br/>Default value: undefined
| contentId             | string or number      | The ID of content to load in the player. This can be retrieved from the BeyondWords dashboard by clicking on the embed button next to a piece of a content and copying it from within the code snippet. Normally this will be a string UUID, but legacy numeric IDs are also supported.<br/><br/><a id="note"></a>**Note:** The player loads content from a projectId and one or more of the following identifiers:<br/>{ contentId, playlistId, sourceId, sourceUrl, playlist }. If multiple identifiers are provided, the player will load all of the published content into a playlist, which might include other playlists. The order that content is loaded into the player will match the order of identifiers in this table. If you want to use a different order set the playlist property to an array of identifiers.<br/><br/>Default value: undefined
| playlistId            | number                | The ID of a 'manual' or 'automatic' playlist to load in the player. This can be retrieved from the BeyondWords dashboard and appears as part of the URL. (see [note](#note) above regarding identifiers)<br/><br/>Default value: undefined
| sourceId              | string                | An alternative ID that can be used to load content in the player. This ID is a string that can optionally be provided when creating content via the BeyondWords API. For example, it could you the ID that your system uses to identify content within your CMS. (see [note](#note) above regarding identifiers)<br/><br/>Default value: undefined
| sourceUrl             | string                | The source URL to load into the player. This is optional and may be set by the WordPress plugin. This is the URL of where the content can be found on the web. This method of identifying content is discouraged in case the article moves to a different URL. (see [note](#note) above regarding identifiers)<br/><br/>Default value: undefined
| playlist              | array of objects      | An array of identifiers to load into the player. The four identifiers above are supported. The order that content is loaded into the player will match the order of the array:<br/><br/>[<br/>&nbsp;&nbsp;{ contentId: "67f86dca-02e5-466d-99bf-0d1103f6c6e9" },<br/>&nbsp;&nbsp;{ contentId: "cc85c59c-7c68-4e5d-a225-eeecb40617e6" },<br/>&nbsp;&nbsp;{ sourceId: "some-external-id-set-by-you" },<br/>&nbsp;&nbsp;{ sourceUrl: "https://example.com/my-article" },<br/>&nbsp;&nbsp;{ playlistId: 12345 },<br/>&nbsp;&nbsp;{ playlistId: 67890 },<br/>]<br/><br/>If other top-level identifiers are set on the player such as contentId, these identifiers will be prepended to the playlist array and appear at the top. (see [note](#note) above regarding identifiers)<br/><br/>Default value: undefined
| target                | string or node        | The location in the DOM to use as the root node of the player. It supports the following values:<br/><br/>- **this**: when used in a script tag, the player will be initialized in a new div after the script tag<br/>- **\<string\>**: a query string to be passed to document.querySelector, e.g. "#some-id"<br/>- **\<node\>**: a DOM node, e.g. returned from document.getElementById("some-id")<br/><br/>If no target is specified then the player will be initialized in a new div at the end of the `<body>` and the user-interface will not be shown. See [Building your own UI](./building-your-own-ui.md) for more information.<br/><br/>Default value: undefined
| showUserInterface     | boolean               | Whether to show the user-interface. This can be set to false if you want to build your own user-interface on top of the core player functionality. See [Building your own UI](./building-your-own-ui.md) for more information.<br/><br/>Default value: true
| playerStyle           | string                | The style of player to display. There are five supported styles:<br/><br>- **small**: the smallest player that has the bare minimum of buttons<br/>- **standard**: the default player style that offers a good mix of functionality<br/>- **large**: a larger player that shows the playerTitle and an image<br/>- **screen**: a full screen player designed to be linked to from social media<br/>- **video**: a player that supports video adverts and scrolling text content<br/><br/>Default value: standard
| playerTitle           | string                | The title to show at the top of the large, screen and video players. Normally this is automatically set to the name of your project but can be specified in the BeyondWords dashboard. It can also be overridden when initializing the player if you want to use a different title for the player.<br/><br/>Default value: undefined
| callToAction          | string                | The prompt to show on the small and standard players when it is stopped. If the value is falsy, it translates 'Listen to this article' into the user's language, according to their browser preference, assuming that language is supported by the player (see the list of [supported languages](../src/translations)).<br/><br/>Default value: undefined
| skipButtonStyle       | string                | The style of the skip buttons. There are four supported styles:<br/><br>- **auto**: skip by 'tracks' for a playlist and 'segments' for a single item<br/>- **segments**: skip backwards and forwards by one paragraph<br/>- **seconds**: seek backwards and forwards by 10 seconds<br/>- **tracks:** skip backwards and forwards by one playlist track<br/><br/>By default, the 'seconds' style skips 10 seconds in both directions but you can control this with 'seconds-15' or 'seconds-15-30' to set a different number of seconds for backwards and forwards.<br/><br/>Default value: auto
| playlistStyle         | string                | Whether to show the playlist. There are three supported styles:<br/><br/>- **auto**: show the playlist when there is more than one content item<br/>- **show**: show the playlist by default (can still by toggled by the user)<br/>- **hide**: hide the playlist by default (can still be toggled by the user)<br/><br/>By default, the 'auto' and 'show' styles display 5 items on desktop and 4 on mobile before a scrollbar appears but you can set a different number.<br/><br/>For example, 'auto-3' will show 3 items and 'show-10-8' will show a different number on desktop and mobile. This can be set to a very large number, e.g. 'show-99999' to never show a scrollbar.<br/><br/>Default value: auto-5-4
| mediaSession          | string                | Whether to use the Media Session API. When enabled, the player will appear on your phone's lock screen and can be controlled using your native device buttons. There are three supported types:<br/><br/>- **auto**: use the Media Session API if it is not already being used by your website<br/>- **override**: use the Media Session API and override your website's existing media session if it exists<br/>- **none**: do not use the Media Session API<br/><br/>If there are multiple players on the page, the media session will be set to the player that is currently playing or that was most recently playing. Otherwise, the first player that was initialized is chosen. The media session is set whenever playback begins (when the [PlaybackPlaying event](./player-events.md) is emitted).<br/><br/>The media session makes use of many player settings. For example:<br/><br/>- It shows the title from the content that is currently playing or will play after the advert<br/>- It shows the image from the active advert or content item<br/>- It falls back to a speaker icon that uses iconColor and backgroundColor<br/>- It disables the skip buttons and prevents scrubbing when an advert is playing<br/>- It respects the skipButton style, e.g. it can skip between segments (depending on the device)<br/><br/>If any player is set to 'override' then the media session may be overridden, including by players that are set to 'auto'. If there is no existing media session then 'auto' and 'override' behave the same.<br/><br/>Default value: auto
| content               | array of objects      | The array of content to play in the player. Normally this is automatically set based on the identifiers but it can be overridden if you wish to set the content manually without making API requests. A playlist will be shown in the player if the the array contains multiple items.<br/><br/><a id="note2"></a>**Note:** Each content item can contain several media files. The player will attempt to load them in order until a file format that it is able to play is found. If the playerStyle is 'video' it will attempt to load video media first, then fall back to audio. Otherwise, audio will be loaded first.<br/><br/>[<br/>&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;id: "27b760cb-0838-4354-bf86-ac514c2ad0ca",<br/>&nbsp;&nbsp;&nbsp;&nbsp;title: "Content Title",<br/>&nbsp;&nbsp;&nbsp;&nbsp;imageUrl: "https://example.com/image.jpeg",<br/>&nbsp;&nbsp;&nbsp;&nbsp;sourceUrl: "https://example.com/my-article",<br/>&nbsp;&nbsp;&nbsp;&nbsp;adsEnabled: true,<br/>&nbsp;&nbsp;&nbsp;&nbsp;duration: 123.45,<br/>&nbsp;&nbsp;&nbsp;&nbsp;media: [{ id: 123, url: "https://example.com/audio.mp3", contentType: "audio/mpeg" }],<br/>&nbsp;&nbsp;&nbsp;&nbsp;segments: [{ marker: "paragraph-1", startTime: 0.05, duration: 9.95 }],<br/>&nbsp;&nbsp;},<br/>]<br/><br/>All fields are optional and the player will work with what it is given, rather than raise an error.<br/><br/>- id will be included in events sent to analyticsCustomUrl and Google Analytics<br/>- title will be shown for the content item in the player<br/>- imageUrl will be shown in the large, screen and video players<br/>- sourceUrl will be used as the href of a link in the screen player<br/>- adsEnabled will determine whether adverts play before/during/after this content item<br/>- duration is only used for display in the playlist and is normally fetched from the media<br/>- media is an array of audio and video sources for the content item (see above)<br/>- segments is an array of timestamps used for skipping between paragraphs<br/><br/>Default value: []
| contentIndex          | number                | The index of the active content item in the player. This can be set to change the track in a playlist.<br/><br/>Default value: 0
| adverts               | array of objects      | An array of adverts to play in the player. Normally ads are automatically set from your project but can be overridden if you wish to set the adverts manually. There are two types of advert:<br/><br/>- **custom**: An advert that specifies its own media sources and clickThroughUrl<br/>- **vast**: An advert that is fetched from the vastUrl, e.g. from Google Ads<br/><br/>In the case of a 'custom' advert, the vastUrl field will be ignored. In the case of a 'vast' advert, the clickThroughUrl and media fields will be ignored. There are three different placements:<br/><br/>- **pre-roll**: The advert plays before the content or between playlist items<br/>- **mid-roll**: The advert plays mid-way through a content item or between playlist items<br/>- **post-roll**: The advert plays after the content or between playlist items<br/><br/>[<br/>&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;id: 123,<br/>&nbsp;&nbsp;&nbsp;&nbsp;type: "custom",<br/>&nbsp;&nbsp;&nbsp;&nbsp;placement: "pre-roll",<br/>&nbsp;&nbsp;&nbsp;&nbsp;clickThroughUrl: "https://example.com/buy-my-product",<br/>&nbsp;&nbsp;&nbsp;&nbsp;textColor: "#00f",<br/>&nbsp;&nbsp;&nbsp;&nbsp;backgroundColor: "rgba(255, 255, 200, 0.8)",<br/>&nbsp;&nbsp;&nbsp;&nbsp;iconColor: "red",<br/>&nbsp;&nbsp;&nbsp;&nbsp;media: [{ id: 555, url: "https://example.com/advert.mp3", contentType: "audio/mpeg" }],<br/>&nbsp;&nbsp;},<br/>&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;id: 456,<br/>&nbsp;&nbsp;&nbsp;&nbsp;type: "vast",<br/>&nbsp;&nbsp;&nbsp;&nbsp;placement: "mid-roll",<br/>&nbsp;&nbsp;&nbsp;&nbsp;vastUrl: "https://pubads.g.doubleclick.net/gampad/ads?iu=/123456789/your/advert"<br/>&nbsp;&nbsp;&nbsp;&nbsp;textColor: "#00f",<br/>&nbsp;&nbsp;&nbsp;&nbsp;backgroundColor: "rgba(255, 255, 200, 0.8)",<br/>&nbsp;&nbsp;&nbsp;&nbsp;iconColor: "red",<br/>&nbsp;&nbsp;},<br/>]<br/><br/>See the [note](#note2) above about media sources which works in the same way for advert media. While an advert is playing it can 'take over' the user interface to show an image and different color theme or it will fall back to the default player colors for those that are not specified in the advert.
| advertIndex           | number                | The index of the active advert in the player. This can be set to play an advert, but it is recommended not to do this manually because the rules around the placement will not apply.<br/><br/>Default value: -1
| duration              | number                | The duration of the active content item in the player. The duration is fetched from the loaded media, rather than the duration field in the content item which is only used for the playlist display.<br/><br/>This property is intended to be **read-only** and should not be set manually, otherwise the duration shown in the user-interface will be incorrect until the media is changed, e.g. by changing track.<br/><br/>Default value: 0
| currentTime           | number                | The current playback time of the media. This can be set to seek to a new position.<br/><br/>Default value: 0
| playbackState         | string                | The current playback state of the media. The can be set to start or stop playback, provided the programmatic call is on behalf of a user action such as clicking a button. There are three states:<br/><br/>- **stopped**: playback has not yet started or it has finished<br/>- **playing**: the media for the content item is playing<br/>- **paused**: the media for the content item is paused<br/><br/>Default value: stopped
| playbackRate          | number                | The current playback rate of the media. This can be set to speed up or slow down playback. The playbackRate will persist across tracks but temporarily resets to 1 during adverts.<br/><br/>Default value: 1
| widgetStyle           | string                | The style of widget to display at the bottom of the page once the user scrolls past the inline player. All five styles are supported (see playerStyle). Can be set to "none" to hide the widget.<br/><br/>Default value: standard
| widgetPosition        | string                | The horizontal position of the widget when it is showing. There are four supported options:<br/><br/>- **auto**: show the widget in the center for the standard player, otherwise right<br/>- **left**: show the widget on the bottom-left corner of the screen<br/>- **center**: show the widget at the bottom of the screen in the middle<br/>- **right**: show the widget in the bottom-right corner of the screen<br/><br/>Default value: auto
| widgetWidth           | string                | The width of the widget. Can be set to any CSS unit, including 500px, 50rem, 50% and fit-content. This property can be set to 0 to make the player use its smallest possible width.<br/><br/>By default, the small playerStyle expands and collapses. You can force it to always be collapsed by setting this property to 0, or to always be expanded by setting this property to initial.<br/><br/>Default value: auto
| textColor             | string                | The text color. Can be set to any CSS color, including red, #f00, #ff0000 and rgba(255, 0, 0, 0.8). This color can be overridden when an advert is playing by specifying it in the advert object.<br/><br/>Default value: #111
| backgroundColor       | string                | The background color. Can be set to any CSS color, including red, #f00 and rgba(255, 0, 0, 0.8). This property can also be set to a linear gradient: linear-gradient(to right, #fcf, #fcc). This color can be overridden when an advert is playing by specifying it in the advert object.<br/><br/>Default value: #f5f5f5
| iconColor             | string                | The icon color. Can be set to any CSS color, including red, #f00, #ff000 and rgba(255, 0, 0, 0.8). This color can be overridden when an advert is playing by setting it in the advert object.<br/><br/>Default value: rgba(0, 0, 0, 0.8)
| highlightColor        | string                | The highlight color for the current and hovered segments. Can be set to any CSS color, including red, #f00, #ff000 and rgba(255, 0, 0, 0.8). This color is not overridden when an advert is playing.<br/><br/>Default value: #eee
| logoIconEnabled       | boolean               | Whether to show the BeyondWords logo icon.<br/><br/>Default value: true
| highlightSections     | string                | The sections to enable when highlighting segments in the article. This helps readers follow along by highlighting the currentSegment as the currentTime of the player changes. It also helps users understand they can click on a segment in the article to begin playback. It supports the following:<br/><br/>- **all**: allow all segments in the article to be highlighted<br/>- **body**: allow segments that have a section of 'body' to be highlighted<br/>- **none**: don't allow any segments to be highlighted<br/><br/>Additionally, you can use a **double-barrelled** string to set the behavior for the currentSegment and hoveredSegment separately. For example, 'all-none' will enable highlighting for the currentSegment and disable it for the hoveredSegment. Alternatively, 'none-body' will disable highlighting for the currentSegment and enable it for hovered segments that have a section of 'body'.<br/><br/>This feature will only work for elements that have been correctly marked up on your page with a 'data-beyondwords-marker' attribute. See [Segments Playback](./segments-playback.md) for more information.<br/><br/>Default value: all
| clickableSections     | string                | The sections to enable for the 'Playback from Segments' feature. This allows users to click on a segment in the article to begin playback from that segment. It supports the following values:<br/><br/>- **all**: allow playback by clicking on any of the segments in the article<br/>- **body**: allow playback by clicking on segments that have a section of 'body'<br/>- **none**: don't allow playback by clicking on segments<br/><br/>If the currentSegment is clicked, it will pause and resume playback from the current position. Otherwise, it will skip to the hoveredSegment's startTime and begin playback.<br/><br/>If the segment contains links or other elements that have 'onclick' or 'onmousedown' handlers, this feature will not interfere and the user can click those elements without affecting playback. If event listeners are used, you can call event.preventDefault() to prevent triggering playback.<br/><br/>This feature will only work for elements that have been correctly marked up on your page with a 'data-beyondwords-marker' attribute. See [Segments Playback](./segments-playback.md) for more information.<br/><br/>Default value: all
| segmentWidgetSections | string                | The sections to enable for showing the segment widget. This is a small user-interface that appears next to segments in the article. This allows users to click on a play/pause button next to the segment to begin playback from that segment. It supports the following values:<br/><br/>- **all**: allow the segment widget to be shown next to all segments in the article<br/>- **body**: allow the segment widget to be shown next to segments that have a section of 'body'<br/>- **none**: don't allow the segment widget to be shown next to any segments<br/><br/>Additionally, you can use a **double-barrelled** string to set the behavior for the currentSegment and hoveredSegment separately. For example, 'all-none' will show the segment widget to next to the currentSegment and will not change when segments are hovered. Alternatively, 'none-body' will only show the segment widget next to segments that are hovered and have a section of 'body'.<br/><br>If the segment widget appears next to the current segment, it will show the play/pause button as usual. Otherwise, the segment widget will always show a play button and its circular progress bar will show the segment's startTime relative to the duration of the audio. The segment widget is 'sticky' which means that it continues to show when the user stops hovering over a segment.<br/><br/>This feature will only work for elements that have been correctly marked up on your page with a 'data-beyondwords-marker' attribute. See [Segments Playback](./segments-playback.md) for more information.<br/><br/>Default value: all
| segmentWidgetPosition | string                | TODO: This setting currently has no effect. It will be added soon.
| currentSegment        | object                | The segment that aligns with the currentTime of the player. The currentSegment will be unaffected while an advert is playing and the audio will resume from the segment when the advert ends.<br/><br/>The currentSegment additionally contains contentIndex and segmentIndex which refers to its position in the content array. The currentSegment is set and the CurrentSegmentUpdated event is emitted regardless of the segmentPlayback and highlightCurrent player settings (see above).<br/><br/>This property will only be set for elements that have been correctly marked up on your page with a 'data-beyondwords-marker' attribute. See [Segments Playback](./segments-playback.md) for more information.<br/><br/>This property is intended to be **read-only** and should not be set manually.<br/><br/>Default value: undefined
| hoveredSegment        | object                | The segment that is currently being hovered over by the user. This will be set to null if the user hovers over a link or an element with 'onclick' or 'onmousedown' listeners so that highlighting does not apply to the segment from the highlightHovered setting. This helps explain to the user that playback will be unaffected if they were to click on the link or other elements within the segment.<br/><br/>The hoveredSegment additionally contains contentIndex and segmentIndex which refers to its position in the content array. The hoveredSegment is set and the HoveredSegmentUpdated event is emitted regardless of the segmentPlayback and highlightHovered player settings (see above).<br/><br/>This property will only be set for elements that have been correctly marked up on your page with a 'data-beyondwords-marker' attribute. See [Segments Playback](./segments-playback.md) for more information.<br/><br/>This property is intended to be **read-only** and should not be set manually.<br/><br/>Default value: undefined
| advertConsent         | string                | The level of consent provided by the user of your website for whether personalized ads are allowed. This only applies to adverts of type 'vast' and maps onto the URL parameters documented [here](https://developers.google.com/interactive-media-ads/docs/sdks/html5/client-side/consent). You are responsible for requesting consent from your users. There are three supported levels:<br/><br/>- **personalized**: adds the npa=0 parameter to vastUrl so that personalized ads will play<br/>- **non-personalized**: adds the npa=1 parameter to vastUrl which switches off personalized ads<br/>- **under-the-age-of-consent**: adds the tfua=1 parameter which disables many forms of tracking<br/><br/>The player copies the approach taken by Google which is to enable personalized ads by default and place the burden on the integrator to ensure they have requested consent from their users.<br/><br/>Default value: personalized
| analyticsConsent      | string                | The level of consent provided by the user of your website for whether usage analytics are allowed to be sent by the player to the BeyondWords dashboard and to the analyticsCustomUrl if it is set. You are responsible for requesting consent from your users. There are three supported levels:<br/><br/>- **allowed**: analytics will be sent to BeyondWords and analyticsCustomUrl<br/>- **without-uuids**: analytics will be sent but without session UUIDs<br/>- **none**: analytics will not be sent to BeyondWords or analyticsCustomUrl<br/><br/>The player allows analytics by default because they do not contain any personally identifiable information and only contain random UUIDs to identify the same user across sessions. This UUID is persisted in local storage in the browser under the 'beyondwords' key.<br/><br/>Default value: allowed
| analyticsCustomUrl    | string                | A custom URL that analytics events should be sent to, in addition to BeyondWords. These events are exactly the same as those sent to BeyondWords. See [Custom Analytics](./custom-analytics.md) for more information.<br/><br/>Default value: undefined
| analyticsTag          | string                | The Google Measurement ID to use when sending events to Google Analytics. When analyticsTag is set, events will always be sent to Google Analytics, regardless of analyticsConsent.<br/><br/>Default value: undefined
| writeToken            | string                | The BeyondWords write token for your project. This feature is used by our WordPress plugin during the editing workflow to listen for the 'processed' event and reload the player when content is ready.<br/><br/>We strongly recommend you think carefully when using this feature to ensure that writeToken is not leaked to the public since it can be used to modify content within your project. Also, this feature is **unsupported** and we may replace it with a different mechanism in the future.<br/><br/>Default value: undefined

[< back to README](https://github.com/BeyondWords-io/player#readme)
